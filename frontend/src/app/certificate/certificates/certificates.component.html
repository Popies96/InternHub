<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Certificate Management</h2>
    <a routerLink="/certificates/add" class="btn btn-primary">
      <i class="bi bi-plus-circle"></i> Add New Certificate
    </a>
  </div>

  <div class="mb-4">
    <div class="input-group" style="max-width: 400px;">
      <input type="text" class="form-control" placeholder="Search certificates..." 
             [(ngModel)]="searchTerm" (input)="filterCertificates()">
      <button class="btn btn-outline-secondary" type="button">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </div>

  <!-- Version Cartes -->
  <div *ngIf="filteredCertificates.length > 0" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <div class="col" *ngFor="let cert of filteredCertificates">
      <div class="card h-100 certificate-card">
        <div class="card-header bg-transparent border-bottom-0">
          <span class="badge float-end" 
                [ngClass]="cert.status === 'ACTIVE' ? 'bg-success' : 'bg-danger'">
            {{ cert.status }}
          </span>
        </div>
        <div class="card-body">
          <h5 class="card-title">{{ cert.title }}</h5>
          <div class="certificate-preview">
            <p class="issue-date">{{ cert.issueDate | date:'longDate' }}</p>
            <p class="recipient">Certificate of Completion</p>
            <p class="recipient-name">{{ cert.studentFirstName || 'Student Name' }}</p>
            <p class="program-name">Program: {{ cert.internshipTitle }}</p>
        <p class="issued-by" *ngIf="cert.issuerFirstName">
          Issued by: {{ cert.issuerFirstName }} {{ cert.issuerLastName }}
        </p>
            <p class="description">For completing the program</p>
            <p class="program-name">{{ cert.title }}</p>
          </div>
          
          <p class="verification-id mt-3">
            <small class="text-muted">Verification ID: {{ cert.verificationID }}</small>
          </p>
        </div>
        <div class="card-footer bg-transparent border-top-0">
          <div class="d-flex justify-content-between">
            <button class="btn btn-sm btn-outline-secondary" 
                    [routerLink]="['/certificates/details', cert.id]">
              <i class="bi bi-eye"></i> Details 
            </button>
            <div>
              <button class="btn btn-sm btn-outline-primary me-2" 
                      [routerLink]="['/certificates/edit', cert.id]">
                <i class="bi bi-pencil"></i> Edit
              </button>
              <button class="btn btn-sm btn-outline-danger" 
                      (click)="deleteCertificate(cert.id!)">
                <i class="bi bi-trash"></i> Delete
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Message si aucun rÃ©sultat -->
  <div *ngIf="filteredCertificates.length === 0" class="text-center py-5">
    <div class="alert alert-info">
      No certificates found
    </div>
  </div>
</div>